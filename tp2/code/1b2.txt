; Sumar dos números en memoria

start:
	PUSH 4		; A
	PUSH 12		; B
	PUSH 0		; Resultado
	PUSH 0		; 1er dígito ASCII
	PUSH 0		; 2do dígito ASCII
	PUSH 0		; 3er dígito ASCII
	PUSH 0		; terminate

	MOV A, [SP+6]
	ADD A, [SP+5]
	MOV [SP+4], A
	CALL bin2ascii
	MOV [SP], A
	MOV [SP], A
	MOV [SP], A

	MOV A, 0
	CALL print

	POP A
	POP A
	POP A
	POP A
	POP A
	POP A
	POP A
	HLT

bin2ascii:
	PUSH A
	MOV D, 0xE8
	MOV A, B
	DIV 100
	MOV C, A
	ADD C, 48
	MOV [D], C
	MUL 100
	SUB B, A
	MOV A, B
	DIV 10
	MOV C, A
	ADD C, 48
	MOV [D+1], C
	MUL 10
	SUB B, A
	ADD B, 48
	MOV [D+2], B
	HLT

print:
DB 0
